(function(){"use strict";var e={1275:function(e,t,s){var a=s(144),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],i={},l=i,n=s(1001),u=(0,n.Z)(l,r,o,!1,null,null,null),d=u.exports,c=s(8345),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"login"},[e._m(0),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{staticClass:"button"},[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),t("el-button",{attrs:{type:"info"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])},p=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar"},[t("img",{attrs:{src:s(8308),alt:""}})])}],g={data(){return{form:{username:"admin",password:"123456"},rule:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{resetForm(){this.$refs.form.resetFields()},login(){this.$refs.form.validate((async e=>{if(e){const{data:e}=await this.$http.post("login",this.form);200!==e.meta.status?this.$message.error("登录失败"):(this.$message.success("登录成功"),window.sessionStorage.setItem("token",e.data.token),this.$router.push("/home"))}}))}}},h=g,f=(0,n.Z)(h,m,p,!1,null,"4cc4c7f6",null),b=f.exports,v=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"container"},[t("el-header",[t("img",{attrs:{src:s(6949),alt:""}}),t("el-button",{attrs:{type:"info"},on:{click:e.logout}},[e._v("退出")])],1),t("el-container",[t("el-aside",{attrs:{width:"180px"}},[t("el-menu",{attrs:{"background-color":"#606266","text-color":"#fff","unique-opened":"",router:""}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user-solid"}),e._v("用户管理")]),t("el-menu-item",{attrs:{index:"/home/users"}},[e._v("用户列表")])],2),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-check"}),e._v("权限管理")]),t("el-menu-item",{attrs:{index:"/home/roles"}},[e._v("角色列表")]),t("el-menu-item",{attrs:{index:"/home/rights"}},[e._v("权限列表")])],2),t("el-submenu",{attrs:{index:"3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-goods"}),e._v("商品管理")]),t("el-menu-item",{attrs:{index:"/home/goods"}},[e._v("商品列表")]),t("el-menu-item",{attrs:{index:"/home/categories"}},[e._v("商品分类")]),t("el-menu-item",{attrs:{index:"/home/params"}},[e._v("分类参数")])],2),t("el-submenu",{attrs:{index:"4"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-order"}),e._v("订单管理")]),t("el-menu-item",{attrs:{index:"/home/orders"}},[e._v("订单列表")])],2),t("el-submenu",{attrs:{index:"5"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-data"}),e._v("数据管理")]),t("el-menu-item",{attrs:{index:"/home/reports"}},[e._v("数据报告")])],2)],1)],1),t("el-main",[t("router-view")],1)],1)],1)},y=[],_={methods:{logout(){window.sessionStorage.clear(),this.$router.push("/login")}}},$=_,w=(0,n.Z)($,v,y,!1,null,"317a8ac0",null),I=w.exports,x=function(){var e=this,t=e._self._c;return t("div",[e._v(" welcome ")])},k=[],D={},L=D,q=(0,n.Z)(L,x,k,!1,null,null,null),V=q.exports,C=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("用户管理")]),t("el-breadcrumb-item",[e._v("用户列表")])],1),t("el-card",[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"查询用户"},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUserList},slot:"append"})],1)],1),t("el-col",{attrs:{span:4}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加用户")])],1)],1),t("el-table",{attrs:{data:e.userList}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{prop:"role_name",label:"角色"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),t("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.openEditDialog(s.row.id)}}},[e._v("修改")]),t("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(t){return e.openSetDialog(s.row.id)}}},[e._v("设置")]),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.openDeleteDialog(s.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:current-page":function(t){return e.$set(e.queryInfo,"pagenum",t)}}})],1),t("div",[t("el-dialog",{attrs:{title:"添加用户",visible:e.addDialogVisible},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.resetAddForm}},[t("el-form",{ref:"addForm",attrs:{model:e.addUserInfo,rules:e.addRule,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.addUserInfo.username,callback:function(t){e.$set(e.addUserInfo,"username",t)},expression:"addUserInfo.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:e.addUserInfo.password,callback:function(t){e.$set(e.addUserInfo,"password",t)},expression:"addUserInfo.password"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.addUserInfo.email,callback:function(t){e.$set(e.addUserInfo,"email",t)},expression:"addUserInfo.email"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-phone"},model:{value:e.addUserInfo.mobile,callback:function(t){e.$set(e.addUserInfo,"mobile",t)},expression:"addUserInfo.mobile"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"修改用户信息",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t}}},[t("el-form",{ref:"editForm",attrs:{model:e.userInfo,rules:e.editRule,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",value:e.userInfo.username,disabled:""}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-phone"},model:{value:e.userInfo.mobile,callback:function(t){e.$set(e.userInfo,"mobile",t)},expression:"userInfo.mobile"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editUser}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"设置用户角色",visible:e.setDialogVisible},on:{"update:visible":function(t){e.setDialogVisible=t}}},[t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",value:e.userInfo.username,disabled:""}})],1),t("el-form-item",{attrs:{label:"选择角色"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}},e._l(e.roleList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.setDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.setRole}},[e._v("确 定")])],1)],1)],1)],1)},R=[],z={data(){return{queryInfo:{query:"",pagenum:1,pagesize:10},userList:[],total:0,roleList:[],addDialogVisible:!1,editDialogVisible:!1,setDialogVisible:!1,addUserInfo:{username:"",password:"",email:"",mobile:""},addRule:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},userInfo:{},editRule:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}]},roleId:""}},methods:{async getUserList(){const{data:e}=await this.$http.get("users",{params:this.queryInfo});200!==e.meta.status?this.$message.error("获取失败"):(this.userList=e.data.users,this.total=e.data.total)},async getRoleList(){const{data:e}=await this.$http.get("roles");200!==e.meta.status?this.$message.error("获取失败"):this.roleList=e.data},resetAddForm(){this.$refs.addForm.resetFields()},addUser(){this.$refs.addForm.validate((async e=>{if(e){const{data:e}=await this.$http.post("users",this.addUserInfo);201!==e.meta.status?this.$message.error("添加失败"):(this.$message.success("添加成功"),this.addDialogVisible=!1,this.getUserList())}}))},openEditDialog(e){this.queryUser(e),this.editDialogVisible=!0},openSetDialog(e){this.queryUser(e),this.getRoleList(),this.setDialogVisible=!0},async queryUser(e){const{data:t}=await this.$http.get(`users/${e}`);200!==t.meta.status?this.$message.error("查询失败"):this.userInfo=t.data},editUser(){this.$refs.editForm.validate((async e=>{if(e){const{data:e}=await this.$http.put(`users/${this.userInfo.id}`,this.userInfo);200!==e.meta.status?this.$message.error("修改失败"):(this.$message.success("修改成功"),this.editDialogVisible=!1,this.getUserList())}}))},async setRole(){if(this.roleId){const{data:e}=await this.$http.put(`users/${this.userInfo.id}/role`,{rid:this.roleId});200!==e.meta.status?this.$message.error("设置失败"):(this.$message.success("设置成功"),this.setDialogVisible=!1,this.getUserList())}else this.$message.error("请选择设置角色")},openDeleteDialog(e){this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.removeUser(e)})).catch((()=>{this.$message.info("已取消删除")}))},async removeUser(e){const{data:t}=await this.$http.delete(`users/${e}`);200!==t.meta.status?this.$message.error("删除失败"):(this.$message.success("删除成功"),this.getUserList())},handleCurrentChange(){this.getUserList()},handleSizeChange(e){this.queryInfo.pagesize=e,this.queryInfo.pagenum=1,this.getUserList()}},created(){this.getUserList()}},U=z,S=(0,n.Z)(U,C,R,!1,null,null,null),F=S.exports,N=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("权限管理")]),t("el-breadcrumb-item",[e._v("权限列表")])],1),t("el-card",[t("el-table",{attrs:{data:e.rightList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[t("el-table-column",{attrs:{prop:"authName",label:"全部权限"}})],1)],1)],1)},O=[],G={data(){return{rightList:[]}},methods:{async getRightList(){const{data:e}=await this.$http.get("rights/tree");200!==e.meta.status?this.$message.error("获取失败"):this.rightList=e.data}},created(){this.getRightList()}},Z=G,j=(0,n.Z)(Z,N,O,!1,null,null,null),P=j.exports,T=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("权限管理")]),t("el-breadcrumb-item",[e._v("角色列表")])],1),t("el-card",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加角色")]),t("el-table",{attrs:{data:e.rolesList}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),t("el-table-column",{attrs:{prop:"roleDesc",label:"相关描述"}}),t("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.openEditDialog(s.row.id)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(t){return e.openSetDialog(s.row)}}},[e._v("设置")]),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.openDeleteDialog(s.row.id)}}},[e._v("删除")])]}}])})],1)],1),t("div",[t("el-dialog",{attrs:{title:"添加角色",visible:e.addDialogVisible},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.resetAddForm}},[t("el-form",{ref:"addForm",attrs:{model:e.addRoleInfo,rules:e.addRule,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.addRoleInfo.roleName,callback:function(t){e.$set(e.addRoleInfo,"roleName",t)},expression:"addRoleInfo.roleName"}})],1),t("el-form-item",{attrs:{label:"相关描述",prop:"roleDesc"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-edit-outline"},model:{value:e.addRoleInfo.roleDesc,callback:function(t){e.$set(e.addRoleInfo,"roleDesc",t)},expression:"addRoleInfo.roleDesc"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"修改角色信息",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t}}},[t("el-form",{ref:"editForm",attrs:{model:e.roleInfo,rules:e.editRule,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.roleInfo.roleName,callback:function(t){e.$set(e.roleInfo,"roleName",t)},expression:"roleInfo.roleName"}})],1),t("el-form-item",{attrs:{label:"相关描述"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-edit-outline"},model:{value:e.roleInfo.roleDesc,callback:function(t){e.$set(e.roleInfo,"roleDesc",t)},expression:"roleInfo.roleDesc"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"设置角色权限",visible:e.setDialogVisible},on:{"update:visible":function(t){e.setDialogVisible=t},close:function(t){e.nodeKey=[]}}},[t("el-tree",{ref:"tree",attrs:{data:e.rightList,props:e.defaultProps,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.nodeKey}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.setDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.setRights}},[e._v("确 定")])],1)],1)],1)],1)},E=[],K={data(){return{rolesList:[],rightList:[],defaultProps:{children:"children",label:"authName"},addDialogVisible:!1,editDialogVisible:!1,setDialogVisible:!1,addRoleInfo:{roleName:"",roleDesc:""},roleInfo:{},addRule:{roleName:[{required:!0,message:"请输入用户名",trigger:"blur"}]},editRule:{roleName:[{required:!0,message:"请输入用户名",trigger:"blur"}]},defaultProps:{children:"children",label:"authName"},nodeKey:[]}},methods:{async getRoleList(){const{data:e}=await this.$http.get("roles");200!==e.meta.status?this.$message.error("获取失败"):this.rolesList=e.data},async getRightList(){const{data:e}=await this.$http.get("rights/tree");200!==e.meta.status?this.$message.error("获取失败"):this.rightList=e.data},resetAddForm(){this.$refs.addForm.resetFields()},addRole(){this.$refs.addForm.validate((async e=>{if(e){const{data:e}=await this.$http.post("roles",this.addRoleInfo);201!==e.meta.status?this.$message.error("添加失败"):(this.$message.success("添加成功"),this.addDialogVisible=!1,this.getRoleList())}}))},async queryRole(e){const{data:t}=await this.$http.get(`roles/${e}`);200!==t.meta.status?this.$message.error("查询失败"):this.roleInfo=t.data},openEditDialog(e){this.queryRole(e),this.editDialogVisible=!0},editRole(){this.$refs.editForm.validate((async e=>{if(e){const{data:e}=await this.$http.put(`roles/${this.roleInfo.roleId}`,this.roleInfo);200!==e.meta.status?this.$message.error("修改失败"):(this.$message.success("修改成功"),this.editDialogVisible=!1,this.getRoleList())}}))},openDeleteDialog(e){this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.removeRole(e)})).catch((()=>{this.$message.info("已取消删除")}))},async removeRole(e){const{data:t}=await this.$http.delete(`roles/${e}`);200!==t.meta.status?this.$message.error("删除失败"):(this.$message.success("删除成功"),this.getRoleList())},openSetDialog(e){this.queryRole(e.id),this.getRightList(),this.getNodeKey(e,this.nodeKey),this.setDialogVisible=!0},getNodeKey(e,t){if(!e.children)return t.push(e.id);e.children.forEach((e=>this.getNodeKey(e,t)))},async setRights(){const e=[...this.$refs.tree.getCheckedKeys(),...this.$refs.tree.getHalfCheckedKeys()],t=e.join(),{data:s}=await this.$http.post(`roles/${this.roleInfo.roleId}/rights`,{rids:t});200!==s.meta.status?this.$message.error("设置失败"):(this.$message.success("设置成功"),this.setDialogVisible=!1,this.getRoleList())}},created(){this.getRoleList()}},B=K,A=(0,n.Z)(B,T,E,!1,null,null,null),M=A.exports,H=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("商品管理")]),t("el-breadcrumb-item",[e._v("商品列表")])],1),t("el-card",[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"查找商品"},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getGoodsList},slot:"append"})],1)],1)],1),t("el-table",{attrs:{data:e.goodsList}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),t("el-table-column",{attrs:{prop:"goods_price",label:"单价",width:"100px"}}),t("el-table-column",{attrs:{label:"更新时间",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(e._f("dateFormat")(s.row.upd_time)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.openEditDialog(s.row.goods_id)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.openDeleteDialog(s.row.goods_id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:current-page":function(t){return e.$set(e.queryInfo,"pagenum",t)}}})],1),t("el-dialog",{attrs:{title:"修改商品信息",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t}}},[t("el-form",{ref:"editForm",attrs:{model:e.goodsInfo,rules:e.editRule,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"商品名",prop:"goods_name"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-edit-outline"},model:{value:e.goodsInfo.goods_name,callback:function(t){e.$set(e.goodsInfo,"goods_name",t)},expression:"goodsInfo.goods_name"}})],1),t("el-form-item",{attrs:{label:"单价",prop:"goods_price"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-coin"},model:{value:e.goodsInfo.goods_price,callback:function(t){e.$set(e.goodsInfo,"goods_price",t)},expression:"goodsInfo.goods_price"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editGoods}},[e._v("确 定")])],1)],1)],1)},Y=[],J={data(){return{queryInfo:{query:"",pagenum:1,pagesize:10},goodsList:[],total:0,goodsInfo:{},editRule:{goods_name:[{required:!0,message:"请输入商品名",trigger:"blur"}],goods_price:[{required:!0,message:"请输入价格",trigger:"blur"}]},editDialogVisible:!1}},methods:{async getGoodsList(){const{data:e}=await this.$http.get("goods",{params:this.queryInfo});200!==e.meta.status?this.$message.error("获取失败"):(this.goodsList=e.data.goods,this.total=e.data.total)},async queryGoods(e){const{data:t}=await this.$http.get(`goods/${e}`);200!==t.meta.status?this.$message.error("查询失败"):this.goodsInfo=t.data},editGoods(){this.$refs.editForm.validate((async e=>{if(e){const{data:e}=await this.$http.put(`goods/${this.goodsInfo.goods_id}`,this.goodsInfo);200!==e.meta.status?this.$message.error("修改失败"):(this.$message.success("修改成功"),this.editDialogVisible=!1,this.getGoodsList())}}))},async removeGoods(e){const{data:t}=await this.$http.delete(`goods/${e}`);200!==t.meta.status?this.$message.error("删除失败"):(this.$message.success("删除成功"),this.getGoodsList())},openEditDialog(e){this.queryGoods(e),this.editDialogVisible=!0},openDeleteDialog(e){this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.removeGoods(e)})).catch((()=>{this.$message.info("已取消删除")}))},handleSizeChange(e){this.queryInfo.pagesize=e,this.queryInfo.pagenum=1,this.getGoodsList()},handleCurrentChange(){this.getGoodsList()},search(){this.queryInfo.pagenum=1,this.getGoodsList()}},created(){this.getGoodsList()}},Q=J,W=(0,n.Z)(Q,H,Y,!1,null,null,null),X=W.exports,ee=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("商品管理")]),t("el-breadcrumb-item",[e._v("商品分类")])],1),t("el-card",[t("el-table",{attrs:{data:e.cateList,"row-key":"cat_id"}},[t("el-table-column",{attrs:{prop:"cat_name",label:"全部分类"}})],1)],1)],1)},te=[],se={data(){return{cateList:[]}},methods:{async getCateList(){const{data:e}=await this.$http.get("categories");200!==e.meta.status?this.$message.error("获取失败"):(console.log(e),this.cateList=e.data)}},created(){this.getCateList()}},ae=se,re=(0,n.Z)(ae,ee,te,!1,null,null,null),oe=re.exports,ie=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("商品管理")]),t("el-breadcrumb-item",[e._v("分类参数")])],1),t("el-card",[t("span",[e._v("选择查询分类：")]),t("el-cascader",{attrs:{options:e.cateList,props:e.props},on:{change:e.getParams},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),t("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.getParams},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[t("el-table",{attrs:{data:e.params}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"attr_id",label:"参数id",width:"100px"}}),t("el-table-column",{attrs:{prop:"attr_name",label:"参数名称",width:"200px"}}),t("el-table-column",{attrs:{prop:"attr_vals",label:"参数值"}})],1)],1),t("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[t("el-table",{attrs:{data:e.params}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"attr_id",label:"参数id",width:"100px"}}),t("el-table-column",{attrs:{prop:"attr_name",label:"参数名称",width:"200px"}}),t("el-table-column",{attrs:{prop:"attr_vals",label:"参数值"}})],1)],1)],1)],1)],1)},le=[],ne={data(){return{value:[],cateList:[],props:{value:"cat_id",label:"cat_name",children:"children"},activeName:"only",params:[]}},methods:{async getCateList(){const{data:e}=await this.$http.get("categories");200!==e.meta.status?this.$message.error("获取失败"):this.cateList=e.data},async getParams(){const{data:e}=await this.$http.get(`categories/${this.value[2]}/attributes`,{params:{sel:this.activeName}});200!==e.meta.status?this.$message.error("获取失败"):(this.params=e.data,console.log(this.params))}},created(){this.getCateList()}},ue=ne,de=(0,n.Z)(ue,ie,le,!1,null,null,null),ce=de.exports,me=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("订单管理")]),t("el-breadcrumb-item",[e._v("订单列表")])],1),t("el-card",[t("el-table",{attrs:{data:e.orderList}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),t("el-table-column",{attrs:{prop:"order_number",label:"订单编号"}}),t("el-table-column",{attrs:{prop:"order_price",label:"订单金额",width:"100px"}}),t("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(e._f("dateFormat")(s.row.create_time)))])]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-truck",size:"mini"},on:{click:function(t){return e.openDiglog(s.row.id)}}},[e._v("查看物流")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:current-page":function(t){return e.$set(e.queryInfo,"pagenum",t)}}})],1),t("el-dialog",{attrs:{title:"查看物流信息",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-timeline",e._l(e.transInfo,(function(s,a){return t("el-timeline-item",{key:a,attrs:{timestamp:s.time}},[e._v(" "+e._s(s.context)+" ")])})),1)],1)],1)},pe=[],ge={data(){return{queryInfo:{query:"",pagenum:1,pagesize:10},orderList:[],total:0,dialogVisible:!1,transInfo:[]}},methods:{async getOrderList(){const{data:e}=await this.$http.get("orders",{params:this.queryInfo});200!==e.meta.status?this.$message.error("获取失败"):(this.orderList=e.data.goods,this.total=e.data.total)},handleSizeChange(e){this.queryInfo.pagesize=e,this.queryInfo.pagenum=1,this.getOrderList()},handleCurrentChange(){this.getOrderList()},openDiglog(e){this.querytransportation(e),this.dialogVisible=!0},async querytransportation(e){const{data:t}=await this.$http.get(`kuaidi/${e}`);200!==t.meta.status?this.$message.error("查询失败"):this.transInfo=t.data}},created(){this.getOrderList()}},he=ge,fe=(0,n.Z)(he,me,pe,!1,null,null,null),be=fe.exports,ve=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("首页")]),t("el-breadcrumb-item",[e._v("数据管理")]),t("el-breadcrumb-item",[e._v("数据报告")])],1),t("el-card",[t("div",{attrs:{id:"chart"}})])],1)},ye=[],_e=s(8645),$e={methods:{async chart(){let e,t=_e.S1(document.getElementById("chart"));const{data:s}=await this.$http.get("reports/type/1");200!==s.meta.status?this.$message.error("获取失败"):e=s.data,t.setOption(e)}},mounted(){this.chart()}},we=$e,Ie=(0,n.Z)(we,ve,ye,!1,null,"ea418042",null),xe=Ie.exports;a["default"].use(c.Z);const ke=[{path:"/",redirect:"/login"},{path:"/login",component:b},{path:"/home",component:I,children:[{path:"/",redirect:"users"},{path:"index",component:V},{path:"users",component:F},{path:"rights",component:P},{path:"roles",component:M},{path:"goods",component:X},{path:"categories",component:oe},{path:"params",component:ce},{path:"orders",component:be},{path:"reports",component:xe}]}],De=new c.Z({routes:ke});De.beforeEach(((e,t,s)=>{if("/login"===e.path)return s();{const e=window.sessionStorage.getItem("token");if(!e)return s("/login");s()}}));var Le=De,qe=s(4720),Ve=s.n(qe);a["default"].use(Ve());var Ce=s(9669),Re=s.n(Ce);let ze;Re().defaults.baseURL="https://lianghj.top:8888/api/private/v1/",Re().interceptors.request.use((e=>(e.headers.Authorization=window.sessionStorage.getItem("token"),ze=a["default"].prototype.$loading({background:"transparent"}),e))),Re().interceptors.response.use((e=>(ze.close(),e))),a["default"].prototype.$http=Re(),a["default"].filter("dateFormat",(function(e){const t=new Date(e),s=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),r=(t.getDate()+"").padStart(2,"0"),o=(t.getHours()+"").padStart(2,"0"),i=(t.getMinutes()+"").padStart(2,"0"),l=(t.getSeconds()+"").padStart(2,"0");return`${s}-${a}-${r} ${o}:${i}:${l}`})),a["default"].config.productionTip=!1,new a["default"]({router:Le,render:e=>e(d)}).$mount("#app")},8308:function(e,t,s){e.exports=s.p+"img/avatar.eb979708.png"},6949:function(e,t,s){e.exports=s.p+"img/logo.de80c2e6.png"}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],l=a[1],n=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(n)var d=n(s)}for(t&&t(a);u<i.length;u++)o=i[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkmanagement_system"]=self["webpackChunkmanagement_system"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(1275)}));a=s.O(a)})();
//# sourceMappingURL=app.9414cf21.js.map